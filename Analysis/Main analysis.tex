\documentclass[a4paper,12pt]{article}

\usepackage[latin1]{inputenc}
\usepackage[spanish,es-tabla]{babel}
\usepackage{amssymb}
\usepackage{amsmath}
\usepackage{latexsym}
\usepackage{graphicx}
\usepackage{enumerate}
\usepackage{setspace}
\usepackage{units}
\usepackage{color}
\usepackage{float}
\usepackage{longtable}
\usepackage{mathrsfs}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{relsize}
%\usepackage{mathabx}
\usepackage{ulem}

\bibliographystyle{alpha}

%\doublespacing
\clubpenalty=10000
\widowpenalty=10000

\DeclareMathOperator{\arccot}{arc\ cot}
\DeclareMathOperator{\arcsec}{arc\ sec}
\DeclareMathOperator{\arccsc}{arc\ csc}
\DeclareMathOperator{\sech}{sech}
\DeclareMathOperator{\csch}{csch}
\DeclareMathOperator{\argsenh}{arg\ senh}
\DeclareMathOperator{\argcosh}{arg\ cosh}
\DeclareMathOperator{\argtgh}{arg\ tgh}
\DeclareMathOperator{\argcoth}{arg\ coth}
\DeclareMathOperator{\argsech}{arg\ sech}
\DeclareMathOperator{\argcsch}{arg\ csch}
\DeclareMathOperator{\im}{im}
\DeclareMathOperator{\mcd}{mcd}
\DeclareMathOperator{\modX}{m\acute od}
\DeclareMathOperator{\Cov}{Cov}

\pgfplotsset{compat=1.12}

\begin{document}

\newlength{\origpar}
\setlength{\origpar}{\parindent}
\setlength{\parindent}{0pt}
\setlength{\parindent}{\origpar}

\renewcommand {\baselinestretch} {1.0}
\renewcommand*{\arraystretch}{1.5}

\newcommand{\paren}[1]{\ensuremath{\left(#1\right)}}
\newcommand{\corch}[1]{\ensuremath{\left[#1\right]}}
\newcommand{\llave}[1]{\ensuremath{\left\{#1\right\}}}
\newcommand{\angparen}[1]{\ensuremath{\left<#1\right>}}
\newcommand{\abs}[1]{\ensuremath{\left|#1\right|}}
\newcommand{\vecnorm}[1]{\ensuremath{\left|\left|#1\right|\right|}}
\newcommand{\pdiff}[2]{\ensuremath{\dfrac{\partial#1}{\partial#2}}}
\newcommand{\tlap}[1]{\ensuremath{\mathscr L\llave{#1}}}
\newcommand{\itlap}[1]{\ensuremath{\mathscr L^{-1}\llave{#1}}}
\newcommand{\Section}[1]{\renewcommand{\thesection}{#1}\section}
\newcommand{\floor}[1]{\ensuremath{\left\lfloor#1\right\rfloor}}
\newcommand{\ceil}[1]{\ensuremath{\left\lceil#1\right\rceil}}

\newcommand{\zm}[1]{\ensuremath{\mathbb Z/#1\mathbb Z}}

\definecolor{grey}{rgb}{0.50,0.50,0.50}
\definecolor{moradoesfruta}{rgb}{1,0,1}
\definecolor{orangeisthenewmorado}{rgb}{1,0.5,0}

\newcommand{\inRed}[1]{\textcolor{red}{#1}}
\newcommand{\inBlue}[1]{\textcolor{blue}{#1}}
\newcommand{\inGreen}[1]{\textcolor{green}{#1}}
\newcommand{\inPurple}[1]{\textcolor{moradoesfruta}{#1}}
\newcommand{\inOrange}[1]{\textcolor{orangeisthenewmorado}{#1}}

\newcommand{\SectionR}[1]{\renewcommand{\thesection}{\inRed{#1}}\section}
\newcommand{\SectionG}[1]{\renewcommand{\thesection}{\inGreen{#1}}\section}
\newcommand{\SectionO}[1]{\renewcommand{\thesection}{\inOrange{#1}}\section}

\newcommand{\matlab}[1]{\begin{singlespace}\noindent\footnotesize{\texttt{\textcolor{black}{#1}}}\end{singlespace}}
\newcommand{\maxima}[1]{\begin{singlespace}\noindent\footnotesize{\texttt{\textcolor{blue}{#1}}}\end{singlespace}}
\newcommand{\maximaoutput}[1]{\begin{singlespace}\noindent\footnotesize{\texttt{\textcolor{grey}{#1}}}\end{singlespace}}
\newcommand{\scilab}[1]{\begin{singlespace}\noindent\footnotesize{\texttt{\textcolor{black}{#1}}}\end{singlespace}}

% Magia negra de Latex a continuación (copiada de http://tex.stackexchange.com/questions/44235/is-there-a-way-to-do-an-upside-down-widehat).
\makeatletter
\DeclareRobustCommand\widecheck[1]{{\mathpalette\@widecheck{#1}}}
\def\@widecheck#1#2{%
    \setbox\z@\hbox{\m@th$#1#2$}%
    \setbox\tw@\hbox{\m@th$#1%
       \widehat{%
          \vrule\@width\z@\@height\ht\z@
          \vrule\@height\z@\@width\wd\z@}$}%
    \dp\tw@-\ht\z@
    \@tempdima\ht\z@ \advance\@tempdima2\ht\tw@ \divide\@tempdima\thr@@
    \setbox\tw@\hbox{%
       \raise\@tempdima\hbox{\scalebox{1}[-1]{\lower\@tempdima\box
\tw@}}}%
    {\ooalign{\box\tw@ \cr \box\z@}}}
\makeatother
% Fin de la magia negra.

\setcounter{secnumdepth}{3}
\section{Multiples of 3 and 5}
\textbf{Solution}: 233168. \textit{Solved: Sat, 8 Aug 2015, 08:09}.

\textbf{Math knowledge used}: triangular numbers.

\textbf{Programming techniques used}: none.

It's very simple using inclusion-exclusion. We count how many multiples of $3$, $5$ and $15$ are there, then we use triangular numbers to determine each sum, then we return $\mathrm{sum}\paren3+\mathrm{sum}\paren5-\mathrm{sum}\paren{15}$.

\section{Even Fibonacci numbers}
\textbf{Solution}: 4613732. \textit{Solved: Sat, 8 Aug 2015, 08:23}.

\textbf{Math knowledge used}: recurrence equation theory.

\textbf{Programming techniques used}: none.

You can bruteforce this very easily. Or you can use recurrence equations! Which is of course my preferred method since it's more mathematical and, much more importantly, more scalable.

So, fibonacci numbers follow this formula:
\begin{equation*}
f\paren n=\dfrac{\varphi^n-\paren{1-\varphi}^n}{\sqrt5}.
\end{equation*}

And even fibonacci numbers are precisely those for which $n=\dot3$. That is, the numbers we are looking for follow this other formula:
\begin{equation*}
f_{\mathrm even}\paren n=\dfrac{\varphi^{3n}-\paren{1-\varphi}^{3n}}{\sqrt5}.
\end{equation*}

From this, considering that $\paren{1-\varphi}^{3n}$ tends to $0$ very rapidly, and calling $L=4e6$ the imposed limit, we can get a suitable formula for the largest $n$ we need:
\begin{equation*}
N=\floor{\dfrac{\log L}{3\log\varphi}}.
\end{equation*}

Finally, since we need the sum, we use a basic summation formula (again, considering that the $\paren{1-\varphi}^{3n}$ terms tend quickly to zero):
\begin{equation*}
\sum_{i=0}^n\dfrac{\varphi^{3n}-\paren{1-\varphi}^{3n}}{\sqrt5}\approx\sum_{i=0}^n\dfrac{\varphi^{3n}}{\sqrt5}=\dfrac{\varphi^{3n+3}-\varphi^3}{\paren{\varphi^3-1}\sqrt5}.
\end{equation*}
Rounding this value into the nearest integer we get the solution.

\section{Largest prime factor}
\textbf{Solution}: 6857. \textit{Solved: Sat, 8 Aug 2015, 08:33}.

\textbf{Math knowledge used}: Erathostenes sieve.

\textbf{Programming techniques used}: none.

Very simple, just enumerate all the primes up to $\sqrt L$ (with $L$ being the limit) and then divide until either we hit $1$ (meaning that the last prime we divided by is the result) or we run out of primes (meaning that the remaining number is the last prime we're looking for).

There are many methods that can be used to iterate over the primes, but the Erathostenes sieve is good enough. Saying that it will be used profusely is a big, big understatement.

\section{Largest palindrome product}
\textbf{Solution}: 906609. \textit{Solved: Sat, 8 Aug 2015, 08:39}.

\textbf{Math knowledge used}: modular arithmetic.

\textbf{Programming techniques used}: none.

The ``modular arithmetic'' I'm referring to is just the fact that I know that all palindrome numbers with an even amount of digits are multiples of $11$. So, the method to found this answer is as simple as iterating downwards over a pair of factors, but this bit of knowledge allows me to reduce the search space by 11, because one of the factors iterates over just multiples of $11$.

\section{Smallest multiple}
\textbf{Solution}: 232792560. \textit{Solved: Sat, 8 Aug 2015, 08:49}.

\textbf{Math knowledge used}: none.

\textbf{Programming techniques used}: none.

I'm not sure if ``none'' qualifies as the list of special knowledge used. I just factored all the numbers and then calculated the least common multiple in a more or less intelligent way (i.e. I have the factors, so no need to use Euclid's algorithm). This is the first time I used my DivisorHolder class, which is used for a fuckton of problems all over the list.

\section{Sum square difference}
\textbf{Solution}: 25164150. \textit{Solved: Sat, 8 Aug 2015, 08:54}.

\textbf{Math knowledge used}: basic Faulhaber formulas.

\textbf{Programming techniques used}: none.

The sum of all natural numbers up to $n$ is $\dfrac{n\paren{n+1}}2$, and if we square this we get:
\begin{equation*}
f\paren n=\dfrac{n^4+2n^3+n^2}4.
\end{equation*}

On the other hand, the sum of the squares of all the natural numbers up to $n$ is
\begin{equation*}
g\paren n=\dfrac{2n^3+3n^2+n}6.
\end{equation*}

Subtracting both numbers we get the formula we need:
\begin{equation*}
f\paren n-g\paren n=\dfrac{3n^4+2n^3-3n^2-2n}{12}.
\end{equation*}

Plugging in $n=100$ we get the result. By the way, it can be easily proven that despite the denominator this number is always an integer.

\section{10001st prime}
\textbf{Solution}: 104743. \textit{Solved: Sat, 8 Aug 2015, 09:02}.

\textbf{Math knowledge used}: Erathostenes sieve, $\pi\paren n$ counting function.

\textbf{Programming techniques used}: none.

Just use an Erathostenes sieve. As for the limit, we know that $\pi\paren x\approx\dfrac x{\log x}$, so if the limit is $L=10001$, then we can use $N=2L\log L$ (multiplying times $2$ is a safe addition. The formula I gave means that $x\approx\log x\cdot\pi\paren x$, but we have $\pi x$, and this formula doesn't say anything about $\log\pi\paren x\cdot\pi\paren x$). Then just move over the sieve until we have passed over $L$ primes.

\section{Largest product in a series}
\textbf{Solution}: 23514624000. \textit{Solved: Sat, 8 Aug 2015, 09:11}.

\textbf{Math knowledge used}: none.

\textbf{Programming techniques used}: none.

This is more algorithmic than mathematic, but still, it's not like it has much algoritmic depth. You can either iterate over the list, taking care about how the zeros break the chains, or just split the string into smaller strings of digits using the $0$ as separator, so that the remaining strings are safer to iterate. In any case the search algorithm is basically obvious (take the first $N$ digits as product, then at each step divide by the $\paren{i-N}$-th and multiply by the $i$-th. Take the maximum you found).

\section{Special Pythagorean triplet}
\textbf{Solution}: 31875000. \textit{Solved: Sat, 8 Aug 2015, 09:20}.

\textbf{Math knowledge used}: Pythagorean triples generation.

\textbf{Programming techniques used}: none.

So, this is the first problem that uses Pythagorean triple generation, another staple of Project Euler (not nearly as ubiquitous as prime generation, but still). This problem is very simple: if we can reliably generate all the primitives, then we will find some primitive so that $a+b+c=k$ and $N=1000$ is a multiple of $k$, $N/k=q\in\mathbb N$. In that case, we scale the triple to get $\paren{qa,qb,qc}$ so that $qa+qb+qc=1000$, and so the answer is $\paren{qa}\paren{qb}\paren{qc}=q^3abc$. By the way, the solution is the triple $\paren{15,8,17}$, which gets scaled into $\paren{375,200,425}$.

\section{Summation of primes}
\textbf{Solution}: 142913828922. \textit{Solved: Sat, 8 Aug 2015, 09:42}.

\textbf{Math knowledge used}: Prime summation function.

\textbf{Programming techniques used}: none.

This is an \textit{absolutely awesome} problem, disguised as a boring tutorial. Now, in certain way I could say the same about problem 2, right? But in that case, the interesting technique is very widely known and available to every first year maths student. In this case the magic is a little more obscure, although it's still very useful all over Project Euler.

So, the magic is that there is a recursive function that calculates the sum of primes in something like $O\paren{n^{2/3}}$ time, meaning that the result of this problem takes about $30$ milliseconds to get, AND that if I want to calculate the sum of all primes up to, say, $10^{12}$, it's perfectly doable. No need to generate all the primes explicitly. Yes, this \textit{will} be used (sparingly, but decisively) all over Project Euler.

Credits for this awesome function go to user \textbf{Lucy\_Hedgehog} of Project Euler. The algorithm itself is described in the comments of the problem, in what could very well be the highest rated comment of all the site.

\section{Largest product in a grid}
\textbf{Solution}: 70600674. \textit{Solved: Sat, 8 Aug 2015, 10:23}.

\textbf{Math knowledge used}: none.

\textbf{Programming techniques used}: none.

Just a rehash of problem 8, more complicated because there are a lot more lines to take into account. This is purely algorithmic but it's more grit than anything. What I did was:
\begin{enumerate}[1.]
\item Parse the input into a 2D int array.
\item Generate all the horizontal, vertical and diagonal (in both directions) lines.
\item For each one of the generated lines, separate them into zero-less chunks, discarding the ones that are too short.
\item Get the maximum product of each of these chunks, using the very same function as in problem 8.
\item The maximum of all chunks' maxima is the result.
\end{enumerate}

\section{Highly divisible triangular number}
\textbf{Solution}: 76576500. \textit{Solved: Sat, 8 Aug 2015, 11:00}.

\textbf{Math knowledge used}: triangular numbers.

\textbf{Programming techniques used}: none.

Very easy. For each $N\geq2$, get the prime factorization of both $N-1$ and $N$, combine them, then remove a $2$. Count the amount of divisors of the resulting number, and if it's greater than the limit, return the number $\dfrac{N\paren{N-1}}2$. All of this can be reliably done with my DivisorHolder class that keeps the factorization using an IntIntMap.

By the way, the answer comes from $N=12376$, i.e. from $T\paren{12375}$. $12375=3^2\cdot5^3\cdot11$ and $12376=2^3\cdot7\cdot13\cdot17$, so the resulting triangular number is $2^2\cdot3^2\cdot5^3\cdot7\cdot11\cdot13\cdot17$, which has $3\cdot3\cdot4\cdot2\cdot2\cdot2\cdot2=576$ divisors.

\section{Large sum}
\textbf{Solution}: 5537376230. \textit{Solved: Sat, 8 Aug 2015, 11:30}.

\textbf{Math knowledge used}: none.

\textbf{Programming techniques used}: none.

I wouldn't call the usage of BigInteger a ``programming technique''. In the end this problem isn't even algorithmic. On the good side, this is a good example of the advantage of Java Streams, since I can do all the additions without resorting to an explicit list of BigInteger; the original stream of lines returned by Files.lines can be used directly. Yay, I guess.

In most Project Euler problems, and that includes this one, the usage of BigInteger (or integers larger than 64 bits, for that matter) is not strictly unneeded. Still, there are many problems where they come in very handy.

\section{Longest Collatz sequence}
\textbf{Solution}: 837799. \textit{Solved: Sat, 8 Aug 2015, 11:54}.

\textbf{Math knowledge used}: none.

\textbf{Programming techniques used}: memoization.

This can be done without memoization, but it's super slow. With memoization, it takes less than half a second, which is much more than anything before this problem but it's still short and sweet.

\section{Lattice paths}
\textbf{Solution}: 137846528820. \textit{Solved: Sat, 8 Aug 2015, 11:59}.

\textbf{Math knowledge used}: combinatorial numbers.

\textbf{Programming techniques used}: none.

Very simple. The amount of routes is just the amount of permutations between $20$ displacements to the right and $20$ displacements to the bottom. Therefore the result is $\displaystyle\binom{20+20}{20}$.

Of course, you can also try to manually enumerate all the possible paths. Good luck. This might be the first problem where, if you are \textit{completely} clueless, there's no way you are going to get the result.

\section{Power digit sum}
\textbf{Solution}: 1366. \textit{Solved: Sat, 8 Aug 2015, 12:18}.

\textbf{Math knowledge used}: none.

\textbf{Programming techniques used}: binary exponentiation.

This is one of the very few cases where I don't think you can solve this problem without resorting to a BigInteger or to a similar trick like a string of digits. It's not like it's much of a problem, though.

I'm counting binary exponentiation as a programming technique, although it's a very simple one (and arguably you could put into the ``mathematical knowledge'' bin). This will also be used very often all over Project Euler.



\end{document}
